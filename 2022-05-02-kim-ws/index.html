<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">

	<title>Datentransformation mit Metafacture – Aktuelle Entwicklungen</title>

	<meta name="description" content="Präsentation beim KIM Workshop 2022">
	<meta name="author" content="Adrian Pohl">
	<meta name="author" content="Fabian Steeg">

	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

	<meta name="viewport"
		content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

	<script type="application/ld+json">
			{
				"@context": "https://schema.org",
				"type": [
					"PresentationDigitalDocument"
				],
				"id": "https://slides.lobid.org/2022-05-02-kim-ws/",
				"name": {
					"de": "Datentransformation mit Metafacture – Aktuelle Entwicklungen"
				},
				"creator": [
				{
					"id": "http://lobid.org/team/ap#!",
					"type": "Person",
					"name": "Adrian Pohl"
				},
				{
					"id": "http://lobid.org/team/fs#!",
					"type": "Person",
					"name": "Fabian Steeg"
				}
				],
				"description": {
					"de": "Präsentation beim KIM Workshop 2022"
				},
				"keywords": [
					"Metafacture"
				],
				"about": [
					{
						"id": "https://lobid.org/product/metafacture"
					},
					{
						"id": "https://lobid.org/project/metafacture-fix"
					},
					{
						"id": "https://lobid.org/project/metafacture-playground"
					}
				],
				"datePublished": "2022-05-02",
				"inLanguage": [
					"de"
				],
				"isBasedOn": "https://slides.lobid.org/2022-01-metafacture-hbz/",
				"audience": [
					"management",
					"librarians",
					"developers"
				],
				"license": "https://creativecommons.org/licenses/by/4.0/"
			}
		</script>

	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/theme/hbz.css" id="theme">

	<!-- Code syntax highlighting -->
	<link rel="stylesheet" href="lib/css/zenburn.css">

	<!-- Printing and PDF exports -->
	<script>
		var link = document.createElement('link');
		link.rel = 'stylesheet';
		link.type = 'text/css';
		link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
		document.getElementsByTagName('head')[0].appendChild(link);
	</script>

	<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
</head>

<body>
	<div class="reveal">

		<!-- Any section element inside of this container is displayed as a slide -->
		<div class="slides">
			<section>
				<a href="http://metafacture.org"><img src="img/metafacture.png"
						style="border: none; padding: 5px; background-color: white" width="500px" /></a>
				<h3>Datentransformation mit Metafacture – Aktuelle Entwicklungen</h3>
				<p>
					<small>
						<a href="https://lobid.org/team/ap#!">Adrian Pohl</a> &amp;
						<a href="https://lobid.org/team/fs#!">Fabian Steeg</a>
						<br /> <br /> <a href="https://www.hbz-nrw.de/produkte/linked-open-data">Offene Infrastruktur,
							Hochschulbibliothekszentrum NRW (hbz)</a> </small> <br />
					<small><br />
						KIM Workshop,<br />
						WWW, 2. Mai 2022
					</small>
				</p>
				<p>
					<small>
						<a
							href="https://slides.lobid.org/2022-05-02-kim-ws/">https://slides.lobid.org/2022-05-02-kim-ws/</a>
						<br />
						<a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img
								alt="Creative Commons License" style="border-width:0" src="img/cc-by.png"
								title="Licensed under a Creative Commons Attribution 4.0 International License"></a>
					</small>
				</p>
			</section>

			<section>
				<h1>Agenda</h1>
				<ol>
					<li>Kontext: Datentransformation</li>
					<li>Was ist Metafacture?</li>
					<li>Metafacture-Fix</li>
					<li>Metafacture Playground</li>
					<li>Ausblick</li>
					<li>Fragen & Diskussion</li>
				</ol>
			</section>

			<section>
				<h2>1. Kontext: Datentransformation</h2>
			</section>

			<section>
				<h2>Anwendungsszenarien</h2>
				<p><span class="fragment"><em>Datenanalyse</em>, z.B. Feldabdeckung im Katalog</span></p>
				<p><span class="fragment"><em>Datenaufbereitung</em>, z.B. zur Visualisierung mit Kibana</span></p>
				<p><span class="fragment"><em>Datenanreicherung</em>, z.B. Ergänzung von Daten aus Wikidata</span>
				<p><span class="fragment"><em>Datenaggregation</em> aus unterschiedlichen Quellen, z.B. <a
							href="https://oersi.org">OERSI</a></span></p>
				<p><span class="fragment"><em>Systemmigration</em>, z.B. nach Alma oder Folio</span>
			</section>

			<section>
				<h2>Annahmen</h2>
				<p><span class="fragment">Transformationen von Metadaten gehören zum täglichen Geschäft
						wissenschaftlicher Bibliotheken.</span>
				<p><span class="fragment">Es gibt viele unterschiedliche Methoden, die meist Programmierkenntnisse
						voraussetzen.</span></p>
				<p><span class="fragment">Datentransformationen werden meist im Zusammenspiel von Fachabteilungen &
						IT umgesetzt, verbunden mit größeren Kommunikationsaufwand.</span></p>
				<p><span class="fragment">Bereits existierende, von anderen entwickelte Transformationsprozesse können
						nur bedingt entdeckt und nachgenutzt werden.</span></p>
			</section>

			<section>
				<h2>Das heißt:</h2>
				<p><span class="fragment">Es gibt großes Potential, eine immer wiederkehrende Arbeit zugänglicher,
						kollaborativer und effizienter zu gestalten.</span>
			</section>

			<section>
				<h2>Übergeordnete Ziele</h2>
				<p><span class="fragment">Ermächtigung der Fachebene zur Konfiguration von Datentransformationen</span>
				</p>
				<p><span class="fragment">Förderung von Praktiken zum Teilen und Auffinden von
						Transformationsprozessen</span></p>
			</section>

			<section>
				<h1>2. Was ist Metafacture?</h1>
			</section>

			<section>
				<h2>Was ist Metafacture?</h2>
				<p><span class="fragment">[...] zur Verarbeitung von semi-strukturierten Daten mit dem Fokus auf
						Bibliotheksdaten</span>
				<p><span class="fragment">Ein vielseitiges Werkzeug: nutzbar als Kommandozeilentool, als Java/JVM
						library, für Batch-Verarbeitung oder on-the-fly</span></p>
				<p><span class="fragment">Ein offenes Framework: Wiederverwendung und Austausch (von einzelnen Modulen
						und ganzen Workflows)</span></p>
			</section>

			<section>
				<h2>Metafacture-Historie</h2>
				<p>2011: Start der Entwicklung durch DNB im Rahmen von Culturegraph; damals schon Austausch mit dem hbz
				</p>
				<p><span class="fragment">2013: Umzug auf GitHub, Open-Source-Projekt geworden</span></p>
				<p><span class="fragment">2019: Mit der Zeit immer weniger DNB-Ressourcen für Metafacture, hbz wird
						Maintainer</span></p>
				<p><span class="fragment">Ende 2020: Start der Projekte <a
							href="https://lobid.org/project/metafacture-fix">Metafacture Fix</a> und <a
							href="https://lobid.org/project/metafacture-playground">Metafacture Playground</a></span>
				</p>
			</section>

			<section>
				<h2>Wie Metafacture funktioniert</h2>
				<p><span class="fragment">Grundidee: Daten fließen durch mehrere Module: <br />&rarr; read &rarr; decode
						&rarr; transform &rarr; encode &rarr; write &rarr;</span></p>
				<p><span class="fragment">Jedes Modul erwartet Input eines bestimmten Typs und erzeugt Output eines
						bestimmten Typs</span></p>
				<p><span class="fragment">Verschiedene Formate werden unterstützt (z.B. PICA, MARC), erweiterbares
						Framework für eigene Formate</span></p>
				<p><span class="fragment">Durch Kombination einzelner Module, durch die unsere Daten fließen, bauen wir
						den Workflow</span></p>
			</section>

			<section>
				<h1>Ein Workflow</h1>
				<img src="img/flow.png" />
				<p><small>Aus: Christoph Böhme, <a
							href="http://swib.org/swib13/slides/boehme_swib13_131.pdf">http://swib.org/swib13/slides/boehme_swib13_131.pdf</a></small>
				</p>
			</section>

			<section>
				<h2>Workflows konfigurieren und ausführen</h2>
				<p><span class="fragment">Workflows können in Flux (einer speziellen Konfigurationssprache) oder mit
						Java (typsicher über Java Generics) bearbeitet werden</span></p>
				<p><span class="fragment">Flux-Workflows können in einem Texteditor editiert und auf der Kommandozeile
						ausgeführt werden, Java-Workflows funktionieren wie andere Java-Komponenten</span></p>
			</section>

			<section>
				<h2>Workflow-Beispiel</h2>
				<p>Ausgabe des Inhalts von <code>bib-data.pica.gz</code> als Formeta</p>
				<pre><code class="bash" data-trim>
$ gedit sample1.flux &amp;
					</code></pre>
				<pre><code class="bash" data-trim>
"bib-data.pica.gz" 
|open-file|as-lines|decode-pica|encode-formeta|write("stdout");
					</code></pre>
				<pre><code class="bash" data-trim>
$ flux.sh sample1.flux
					</code></pre>
				<p><small><a
							href="https://github.com/hbz/metafacture-flux-examples/tree/master/sample1">https://github.com/hbz/metafacture-flux-examples/tree/master/sample1</a></small>
				</p>
			</section>

			<section>
				<h2>Workflow-Beispiel</h2>
				<p>Ausgabe des Inhalts von <code>bib-data.pica.gz</code> als Formeta</p>
				<pre><code class="bash" data-trim>
$ gedit sample1.flux &amp;
					</code></pre>
				<pre><code class="bash" data-trim>
"bib-data.pica.gz"
|open-file
|as-lines
|decode-pica
|encode-formeta(style="multiline")
|write("stdout");
					</code></pre>
				<pre><code class="bash" data-trim>
$ flux.sh sample1.flux
					</code></pre>
				<p><small><a
							href="https://github.com/hbz/metafacture-flux-examples/tree/master/sample1">https://github.com/hbz/metafacture-flux-examples/tree/master/sample1</a></small>
				</p>
			</section>

			<section>
				<h2>Transformationsmodul</h2>
				<p><span class="fragment">Manipulation von Feldnamen und -werten; filtern, kombinieren, normalisieren
						etc.</span></p>
				<p><span class="fragment">Feldwerte aus Lookup-Tabellen in externen Dateien (z.B. Freitextfelder ->
						kontrollierte Vokabulare)</span></p>
				<p><span class="fragment">Morph: XML-basiert, Feld- / Metadaten-Event-Ebene</span></p>
				<p><span class="fragment">Fix: eigene, Catmandu-Fix-artige Sprache, Record-basiert</span></p>
			</section>

			<section>
				<h2>Morph</h2>
				<pre><code class="nohighlight" data-trim>
1{a: Faust, b {n: Goethe, v: JW}, c: Weimar}
2{a: Räuber, b {n: Schiller, v: F}, c: Weimar}
					</code></pre>
				<span class="fragment">
					<pre><code class="xml" data-trim>
&lt?xml version="1.0" encoding="UTF-8"?&gt;
&lt;metamorph xmlns="http://www.culturegraph.org/metamorph" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="1"&gt;
  &lt;rules&gt;
    &lt;data source="_id" name="id"/&gt;
    &lt;data source="a" name="title"/&gt;
    &lt;combine value="${first} ${last} aus ${place}" name="author"&gt;
      &lt;data source="b.v" name="first" /&gt;
      &lt;data source="b.n" name="last" /&gt;
      &lt;data source="c" name="place" /&gt;
    &lt;/combine&gt;
  &lt;/rules&gt;
&lt;/metamorph&gt;
					</code></pre>
				</span>
				<span class="fragment">
					<pre><code class="json" data-trim>
{"id":"1", "title":"Faust", "author":"JW Goethe aus Weimar"}
{"id":"2", "title":"Räuber", "author":"F Schiller aus Weimar"}
					</code></pre>
					<p><small><a
								href="https://metafacture.org/playground/?data=1%7Ba%3A+Faust%2C+b+%7Bn%3A+Goethe%2C+v%3A+JW%7D%2C+c%3A+Weimar%7D%0A2%7Ba%3A+R%C3%A4uber%2C+b+%7Bn%3A+Schiller%2C+v%3A+F%7D%2C+c%3A+Weimar%7D&flux=PG_DATA%0A%7Cas-lines%0A%7Cdecode-formeta%0A%7Cmorph%0A%7Cencode-json%0A%7Cprint%0A%3B&fix=move_field%28_id%2C+id%29%0Amove_field%28a%2C+title%29%0Apaste%28author%2C+b.v%2C+b.n%2C+%27~aus%27%2C+c%29%0Aretain%28id%2C+title%2C+author%29&morph=%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%0A%3Cmetamorph+xmlns%3D%22http%3A//www.culturegraph.org/metamorph%22+xmlns%3Axsi%3D%22http%3A//www.w3.org/2001/XMLSchema-instance%22%0A%09version%3D%221%22%3E%0A%09%3Crules%3E%0A%09%09%3Cdata+source%3D%22_id%22+name%3D%22id%22/%3E%0A%09%09%3Cdata+source%3D%22a%22+name%3D%22title%22/%3E%0A%09%09%3Ccombine+value%3D%22%24%7Bfirst%7D+%24%7Blast%7D+aus+%24%7Bplace%7D%22+name%3D%22author%22%3E%0A%09%09%09%3Cdata+source%3D%22b.v%22+name%3D%22first%22+/%3E%0A%09%09%09%3Cdata+source%3D%22b.n%22+name%3D%22last%22+/%3E%0A%09%09%09%3Cdata+source%3D%22c%22+name%3D%22place%22+/%3E%0A%09%09%3C/combine%3E%0A%09%3C/rules%3E%0A%3C/metamorph%3E%0A&active-editor=morph">Beispiel
								im Playground</a></small></p>
				</span>
				</span>
			</section>

			<section>
				<h1>3. Metafacture Fix</h1>
			</section>

			<section>
				<h2>Metafacture-Fix: Ziele</h2>
				<p><span class="fragment">Wechsel von einem Feld-basierten zu einem Record-basierten Verarbeitungsansatz
						bei der Transformation</span></p>
				<p><span class="fragment">Anknüpfung an existierende Konfigurationssprache aus <a
							href="https://github.com/LibreCat/Catmandu">Catmandu</a> (mittelfristiges Ziel:
						Standardisierung)</span></p>
				<p><span class="fragment">Erleichterung der Transformationskonfiguration</span></p>
				<p><span class="fragment">Vergrößerung der Zielgruppe um Bibliothekar*innen und andere
						Metadatenfachleute</span></p>
			</section>

			<section>
				<h2>Fix</h2>
				<pre><code class="nohighlight" data-trim>
1{a: Faust, b {n: Goethe, v: JW}, c: Weimar}
2{a: Räuber, b {n: Schiller, v: F}, c: Weimar}
					</code></pre>
				<span class="fragment">
					<pre><code class="nohighlight" data-trim>
move_field(_id, id)
move_field(a, title)
paste(author, b.v, b.n, '~aus', c)
retain(id, title, author)
					</code></pre>
				</span>
				<span class="fragment">
					<pre><code class="json" data-trim>
{"id":"1", "title":"Faust", "author":"JW Goethe aus Weimar"}
{"id":"2", "title":"Räuber", "author":"F Schiller aus Weimar"}
					</code></pre>
					<p><small><a
								href="https://metafacture.org/playground/?data=1%7Ba%3A+Faust%2C+b+%7Bn%3A+Goethe%2C+v%3A+JW%7D%2C+c%3A+Weimar%7D%0A2%7Ba%3A+R%C3%A4uber%2C+b+%7Bn%3A+Schiller%2C+v%3A+F%7D%2C+c%3A+Weimar%7D&flux=PG_DATA%0A%7Cas-lines%0A%7Cdecode-formeta%0A%7Cfix%0A%7Cencode-json%0A%7Cprint%0A%3B&fix=move_field%28_id%2C+id%29%0Amove_field%28a%2C+title%29%0Apaste%28author%2C+b.v%2C+b.n%2C+%27~aus%27%2C+c%29%0Aretain%28id%2C+title%2C+author%29&morph=%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%0A%3Cmetamorph+xmlns%3D%22http%3A//www.culturegraph.org/metamorph%22+xmlns%3Axsi%3D%22http%3A//www.w3.org/2001/XMLSchema-instance%22%0A%09version%3D%221%22%3E%0A%09%3Crules%3E%0A%09%09%3Cdata+source%3D%22_id%22+name%3D%22id%22/%3E%0A%09%09%3Cdata+source%3D%22a%22+name%3D%22title%22/%3E%0A%09%09%3Ccombine+value%3D%22%24%7Bfirst%7D+%24%7Blast%7D+aus+%24%7Bplace%7D%22+name%3D%22author%22%3E%0A%09%09%09%3Cdata+source%3D%22b.v%22+name%3D%22first%22+/%3E%0A%09%09%09%3Cdata+source%3D%22b.n%22+name%3D%22last%22+/%3E%0A%09%09%09%3Cdata+source%3D%22c%22+name%3D%22place%22+/%3E%0A%09%09%3C/combine%3E%0A%09%3C/rules%3E%0A%3C/metamorph%3E%0A&active-editor=fix">Beispiel
								im Playground</a></small></p>
				</span>
			</section>

			<section>
				<h1>4. Metafacture Playground</h1>
			</section>

			<section>
				<h2>Metafacture Playground</h2>
				<p><span class="fragment"><a
							href="https://metafacture.org/playground">https://metafacture.org/playground</a></span></p>
				<p><span class="fragment">webbasierte Oberfläche zum Herumspielen</span></p>
				<p><span class="fragment">für Tutorials, Workshops, Dokumentation</span></p>
			</section>

			<section>
				<iframe
					src="https://metafacture.org/playground/?data=1%7Ba%3A+Faust%2C+b+%7Bn%3A+Goethe%2C+v%3A+JW%7D%2C+c%3A+Weimar%7D%0A2%7Ba%3A+R%C3%A4uber%2C+b+%7Bn%3A+Schiller%2C+v%3A+F%7D%2C+c%3A+Weimar%7D&flux=PG_DATA%0A%7Cas-lines%0A%7Cdecode-formeta%0A%7Cfix%0A%7Cencode-json%0A%7Cprint%0A%3B&fix=move_field%28_id%2C+id%29%0Amove_field%28a%2C+title%29%0Apaste%28author%2C+b.v%2C+b.n%2C+%27~aus%27%2C+c%29%0Aretain%28id%2C+title%2C+author%29&morph=%3C%3Fxml+version%3D%221.0%22+encoding%3D%22UTF-8%22%3F%3E%0A%3Cmetamorph+xmlns%3D%22http%3A//www.culturegraph.org/metamorph%22+xmlns%3Axsi%3D%22http%3A//www.w3.org/2001/XMLSchema-instance%22%0A%09version%3D%221%22%3E%0A%09%3Crules%3E%0A%09%09%3Cdata+source%3D%22_id%22+name%3D%22id%22/%3E%0A%09%09%3Cdata+source%3D%22a%22+name%3D%22title%22/%3E%0A%09%09%3Ccombine+value%3D%22%24%7Bfirst%7D+%24%7Blast%7D+aus+%24%7Bplace%7D%22+name%3D%22author%22%3E%0A%09%09%09%3Cdata+source%3D%22b.v%22+name%3D%22first%22+/%3E%0A%09%09%09%3Cdata+source%3D%22b.n%22+name%3D%22last%22+/%3E%0A%09%09%09%3Cdata+source%3D%22c%22+name%3D%22place%22+/%3E%0A%09%09%3C/combine%3E%0A%09%3C/rules%3E%0A%3C/metamorph%3E%0A&active-editor=fix"
					width="900" height="675"></iframe>
			</section>

			<section>
				<h1>5. Ausblick</h1>
			</section>

			<section>
				<h2>Community vergrößern</h2>
				<p><span class="fragment">Metafacture hbz-intern als zentrales Tool etablieren</span></p>
				<p><span class="fragment">Weitere Nutzer:innen und Mitentwickler:innen innerhalb und außerhalb des
						hbz-Verbunds gewinnen</span></p>
			</section>

			<section>
				<h2>Standards nutzen und aufbauen</h2>
				<p><span class="fragment">SKOS Lookups (zum Andocken an <a
							href="https://github.com/skohub-io/skohub-vocabs">SkoHub Vocabs</a>)</span></p>
				<p><span class="fragment">Unterstützung der Reconciliation API</span></p>
				<p><span class="fragment">Fix-Standardisierung</span></p>
			</section>

			<section>
				<h1>ETL Hub</h1>
				<p><span class="fragment">ETL: Extract, Transform, Load</span></p>
				<p><span class="fragment">mehr Kollaboration, Teilen & Auffinden von Workflows ermöglichen (nicht nur
						für Metafacture)</span></p>
				<p><span class="fragment">Entwicklung von Best Practices zur Paketierung und Beschreibung von
						ETL-Konfigurationen</span></p>
				<p><span class="fragment">Aufbau eines ETL Hubs zum Entdecken existierender ETL-Prozesse für die
						einfache Nachnutzung und Anpassung</span></p>
			</section>

			<section>
				<h1>6. Fragen und Diskussion</h1>
			</section>

			<section>
				<img src="img/metafacture.png" />
				<p><a href="https://metafacture.org">https://metafacture.org</a></p>
			</section>

		</div>

	</div>
	<script src="lib/js/head.min.js"></script>
	<script src="js/reveal.js"></script>

	<script>

		// Full list of configuration options available at:
		// https://github.com/hakimel/reveal.js#configuration
		Reveal.initialize({
			controls: true,
			progress: true,
			history: true,
			center: true,

			transition: 'none', // none/fade/slide/convex/concave/zoom
			backgroundTransition: 'none',
			slideNumber: 'c', // 'c/t'
			hashOneBasedIndex: true,

			// Optional reveal.js plugins
			dependencies: [
				{ src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
				{ src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
				{ src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
				{ src: 'plugin/zoom-js/zoom.js', async: true },
				{ src: 'plugin/notes/notes.js', async: true }
			]
		});

	</script>

</body>

</html>